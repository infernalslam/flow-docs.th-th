---
title: กำหนดค่าลำดับขั้นและขั้นตอนเวิร์กโฟลว์ใน PowerApps | MicrosoftDocs
description: เรียนรู้วิธีการกำหนดค่าขั้นตอนเวิร์กโฟลว์
ms.custom: ''
ms.date: 06/27/2018
ms.reviewer: ''
ms.service: crm-online
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
author: Mattp123
ms.assetid: 0b47dfd5-76db-464f-90c0-c64a0173dcdd
caps.latest.revision: 18
ms.author: matp
manager: kvivek
search.app:
- Flow
search.audienceType:
- flowmaker
- enduser
ms.openlocfilehash: 8e34f8ef8847ab08e14c91ee6d7871697b0275ce
ms.sourcegitcommit: a20fbed9941f0cd8b69dc579277a30da9c8bb31b
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 09/12/2018
ms.locfileid: "44690456"
---
# <a name="configure-workflow-stages-and-steps"></a>กำหนดค่าลำดับขั้นและขั้นตอนเวิร์กโฟลว์

เมื่อคุณออกแบบเวิร์กโฟลว์ คุณสามารถเลือกให้มีตรรกะที่คุณต้องการดำเนินการในลำดับขั้นและขั้นตอนได้  
  
 **ลำดับขั้น**  
 ลำดับขั้นช่วยให้ตรรกะของเวิร์กโฟลว์อ่านง่ายขึ้น และอธิบายตรรกะของเวิร์กโฟลว์ อย่างไรก็ตาม ลำดับขั้นไม่มีผลต่อตรรกะหรือพฤติกรรมของเวิร์กโฟลว์ ถ้ากระบวนมีลำดับขั้น ขั้นตอนทั้งหมดภายในกระบวนการต้องมีอยู่พร้อมกับลำดับขั้นด้วย  
  
 **ขั้นตอน**  
 ขั้นตอนเป็นหน่วยตรรกะทางธุรกิจอย่างหนึ่งภายในเวิร์กโฟลว์ ขั้นตอนสามารถประกอบด้วยเงื่อนไข การดำเนินการ ขั้นตอนอื่น ๆ หรือองค์ประกอบเหล่านี้ผสมกัน  
  
<a name="BKMK_ActionsWorkflowProcessesCanPerform"></a>  
 
## <a name="actions-that-workflow-processes-can-perform"></a>การดำเนินการที่กระบวนการเวิร์กโฟลว์สามารถดำเนินการได้  

 กระบวนการเวิร์กโฟลว์สามารถดำเนินการต่าง ๆ ที่แสดงในตารางต่อไปนี้  
  
|การดำเนินการ|คำอธิบาย|  
|------------|-----------------|  
|**สร้างระเบียน**|สร้างระเบียนใหม่สำหรับเอนทิตี และกำหนดค่าที่คุณเลือกให้กับแอตทริบิวต์|  
|**อัปเดตระเบียน**|คุณสามารถอัปเดตระเบียนที่เวิร์กโฟลว์กำลังใช้งาน ระเบียนใด ๆ ที่เชื่อมโยงกับระเบียนนั้นในความสัมพันธ์แบบ N:1 หรือระเบียนใด ๆ ที่สร้างขึ้นโดยขั้นตอนก่อนหน้า|  
|**กำหนดระเบียน**|คุณสามารถกำหนดระเบียนที่เวิร์กโฟลว์กำลังใช้งาน ระเบียนใด ๆ ที่เชื่อมโยงกับระเบียนนั้นด้วยความสัมพันธ์แบบ N:1 หรือระเบียนใด ๆ ที่สร้างขึ้นโดยขั้นตอนก่อนหน้า|  
|**ส่งอีเมล**|ส่งอีเมล คุณสามารถเลือกที่จะสร้างข้อความอีเมลใหม่ หรือใช้แม่แบบอีเมลที่กำหนดค่าไว้สำหรับเอนทิตีของระเบียนที่เวิร์กโฟลว์กำลังใช้งานหรือเอนทิตีใด ๆ ที่มีความสัมพันธ์แบบ N:1 กับเอนทิตีนั้น หรือเอนทิตีสำหรับระเบียนใด ๆ ที่สร้างขึ้นโดยขั้นตอนก่อนหน้า|  
|**เริ่มต้นเวิร์กโฟลว์ลูก**|เริ่มต้นกระบวนการเวิร์กโฟลว์ที่มีการกำหนดค่าเป็นเวิร์กโฟลว์ลูก|  
|**เปลี่ยนสถานะ**|เปลี่ยนสถานะของระเบียนที่เวิร์กโฟลว์กำลังใช้งาน ระเบียนใด ๆ ที่เชื่อมโยงกับระเบียนนั้นด้วยความสัมพันธ์แบบ N:1 หรือระเบียนใด ๆ ที่สร้างขึ้นโดยขั้นตอนก่อนหน้า|  
|**หยุดเวิร์กโฟลว์**|หยุดเวิร์กโฟลว์ปัจจุบัน คุณสามารถตั้งค่าสถานะว่า **สำเร็จ** หรือ **ยกเลิก** และระบุข้อความบอกสถานะได้<br /><br /> เมื่อมีการกำหนดค่าเวิร์กโฟลว์แบบเรียลไทม์สำหรับเหตุการณ์ การหยุดเวิร์กโฟลว์ที่มีสถานะว่ายกเลิกจะป้องกันไม่ให้การดำเนินการเหตุการณ์เสร็จสมบูรณ์ ดูข้อเพิ่มเติมได้ที่ [การใช้งานเวิร์กโฟลว์แบบเรียลไทม์](configure-workflow-steps.md#BKMK_SynchronousWorkflows)|  
|**ขั้นตอนแบบกำหนดเอง**|นักพัฒนาสามารถสร้างขั้นตอนเวิร์กโฟลว์แบบกำหนดเองที่กำหนดการดำเนินการ ไม่มีขั้นตอนแบบกำหนดเองที่พร้อมใช้งานตามค่าเริ่มต้น|  
  
### <a name="setting-record-values"></a>การตั้งค่าของระเบียน  

 เมื่อคุณสร้างระเบียน คุณสามารถตั้งค่าต่าง ๆ สำหรับระเบียนได้ เมื่อคุณอัปเดตระเบียน คุณสามารถตั้ง ผนวก เพิ่ม ลด คูณ หรือล้างค่าได้  
  
 เมื่อคุณเลือก **ตั้งค่าคุณสมบัติ** กล่องโต้ตอบจะเปิดขึ้นและแสดงแบบฟอร์มเริ่มต้นสำหรับเอนทิตีนั้น  
  
 ที่ด้านล่างของกล่องโต้ตอบ คุณสามารถดูรายการเขตข้อมูลเพิ่มเติมที่ไม่ปรากฏในแบบฟอร์มได้  
  
 สำหรับเขตข้อมูลใด ๆ คุณสามารถตั้งค่าคงที่ ซึ่งจะถูกตั้งโดยเวิร์กโฟลว์  
  
 ทางด้านขวาของกล่องโต้ตอบ **ตัวช่วยสร้างฟอร์ม** จะช่วยให้คุณสามารถตั้งหรือผนวกค่าไดนามิกจากบริบทของระเบียนปัจจุบันได้ ซึ่งรวมถึงค่าจากระเบียนที่เกี่ยวข้องซึ่งสามารถเข้าถึงได้จากความสัมพันธ์แบบ N:1 (กลุ่มต่อหนึ่ง) สำหรับเอนทิตีนั้น  
  
 ตัวเลือกที่พร้อมใช้งานใน **ตัวช่วยสร้างฟอร์ม** ขึ้นอยู่กับเขตข้อมูลที่คุณได้เลือกในแบบฟอร์ม เมื่อคุณตั้งค่าไดนามิก คุณจะเห็นตัวยึดสีเหลืองที่เรียกว่า 'slug' ซึ่งแสดงตำแหน่งที่จะรวมข้อมูลแบบไดนามิกไว้ ถ้าคุณต้องการนำค่านั้นออก เพียงเลือก slug แล้วลบออก สำหรับเขตข้อมูลข้อความ คุณสามารถใช้ข้อมูลแบบคงที่และแบบไดนามิกผสมกันได้  
  
 สำหรับค่าไดนามิกนั้น คุณจะไม่ทราบแน่ชัดว่าเขตข้อมูล หรือเอนทิตีที่เกี่ยวข้องมีค่าที่คุณต้องการตั้งหรือไม่ อันที่จริง คุณสามารถตั้งค่าจำนวนเขตข้อมูลเพื่อลองใช้ แล้วตั้งค่าและเรียงลำดับโดยใช้ลูกศรสีเขียว ถ้าเขตข้อมูลแรกไม่มีข้อมูล จะมีการลองใช้เขตข้อมูลที่สอง ฯลฯ ถ้าไม่มีเขตข้อมูลใดที่มีข้อมูล คุณสามารถระบุค่าเริ่มต้นที่จะใช้  
  
<a name="BKMK_SettingConditionsForWorkflowActions"></a>   

## <a name="setting-conditions-for-workflow-actions"></a>การตั้งค่าเงื่อนไขสำหรับการดำเนินการเวิร์กโฟลว์  

 การดำเนินการที่คุณจะนำไปใช้มักจะขึ้นอยู่กับเงื่อนไข กระบวนการเวิร์กโฟลว์มีหลายวิธีในการตั้งค่าเงื่อนไข และสร้างตรรกะการโยงหัวข้อเพื่อให้ได้ผลลัพธ์ที่คุณต้องการ คุณสามารถตรวจสอบค่าของระเบียนที่กระบวนการเวิร์กโฟลว์กำลังใช้งาน ระเบียนใด ๆ ที่เชื่อมโยงกับระเบียนนั้นด้วยความสัมพันธ์แบบ N:1 หรือค่าต่าง ๆ ภายในกระบวนการนั้นเอง  
  
|ชนิดเงื่อนไข|คำอธิบาย|  
|--------------------|-----------------|  
|**ตรวจสอบเงื่อนไข**|คำสั่ง "if-\<condition> then" แบบตรรกะ<br /><br /> คุณสามารถตรวจสอบค่าปัจจุบันสำหรับระเบียนที่เวิร์กโฟลว์กำลังใช้งาน ระเบียนใด ๆ ที่เชื่อมโยงกับระเบียนนั้นด้วยความสัมพันธ์แบบ N:1 หรือระเบียนใด ๆ ที่สร้างขึ้นโดยขั้นตอนก่อนหน้า คุณสามารถกำหนดขั้นตอนเพิ่มเติมเมื่อเงื่อนไขเป็นจริง โดยอิงตามค่าเหล่านี้<br /><br /> ในคำสั่ง "if-\<condition > then" คุณสามารถใช้ตัวดำเนินการต่อไปนี้: **เท่ากับ**, **ไม่เท่ากับ**, **มีข้อมูล**,  **ไม่มีข้อมูล**, **ภายใต้** และ **ไม่อยู่ภายใต้** **หมายเหตุ:** **ภายใต้** และ **ไม่อยู่ภายใต้** เป็นตัวดำเนินการตามลำดับชั้น ซึ่งสามารถใช้กับเอนทิตีที่มีการกำหนดความสัมพันธ์แบบลำดับชั้นเท่านั้น ถ้าคุณกำลังพยายามที่จะใช้ตัวดำเนินการเหล่านี้กับเอนทิตีที่ไม่มีการกำหนดความสัมพันธ์แบบลำดับชั้น คุณจะเห็นข้อความแสดงข้อผิดพลาด: "คุณกำลังใช้ตัวดำเนินการตามลำดับชั้นกับเอนทิตีที่ไม่มีการกำหนดความสัมพันธ์ตามลำดับชั้น ให้กำหนดเอนทิตีเป็นแบบลำดับชั้น (โดยทำเครื่องหมายความสัมพันธ์ว่าเป็นตามลำดับชั้น) หรือใช้ตัวดำเนินการอื่น" สำหรับข้อมูลเพิ่มเติมเกี่ยวกับความสัมพันธ์ตามลำดับชั้น ดูที่ [กำหนดและคิวรีข้อมูลที่เกี่ยวข้องตามลำดับชั้น](/powerapps/maker/common-data-service/define-query-hierarchical-data) สกรีนช็อตถัดจากตารางคือ ตัวอย่างคำจำกัดความของกระบวนการเวิร์กโฟลว์ที่ใช้ตัวดำเนินการตามลำดับชั้น **ภายใต้** และ **ไม่อยู่ภายใต้**|  
|**เงื่อนไขย่อยในเวิร์กโฟลว์**|คำสั่ง "else-if-then" แบบตรรกะ ตัวแก้ไขใช้ข้อความ "มิฉะนั้น ถ้า\<เงื่อนไข > แล้ว:"<br /><br /> เลือกเงื่อนไขการตรวจสอบที่คุณได้กำหนดไว้ก่อนหน้านี้ และคุณสามารถเพิ่มเงื่อนไขย่อยในเวิร์กโฟลว์เพื่อกำหนดขั้นตอนเพิ่มเติมเมื่อเงื่อนไขการตรวจสอบเป็นเท็จ|  
|**การดำเนินการเริ่มต้น**|คำสั่ง "else" แบบตรรกะ ตัวแก้ไขใช้ข้อความ "มิฉะนั้น:"<br /><br /> เลือกเงื่อนไขการตรวจสอบ เงื่อนไขย่อยในเวิร์กโฟลว์ เงื่อนไขการรอ หรือสาขาที่มีการรอแบบขนานที่คุณได้กำหนดไว้ก่อนหน้านี้ และคุณสามารถใช้การดำเนินการเริ่มต้นเพื่อกำหนดขั้นตอนสำหรับกรณีทั้งหมดที่ไม่ตรงกับเกณฑ์ที่กำหนดไว้ในองค์กอบเงื่อนไขหรือสาขา|  
|**เงื่อนไขการรอ**|ทำให้เวิร์กโฟลว์แบบทำงานอยู่เบื้องหลังหยุดชั่วคราวเองจนกว่าจะเป็นไปตามเกณฑ์ที่กำหนดไว้ตามเงื่อนไข เวิร์กโฟลว์เริ่มต้นอีกครั้งโดยอัตโนมัติเมื่อเป็นไปตามเกณฑ์ในเงื่อนไขการรอ<br /><br /> เวิร์กโฟลว์แบบเรียลไทม์ไม่สามารถใช้เงื่อนไขการรอได้|  
|**สาขาที่มีการรอแบบขนาน**|กำหนดเงื่อนไขการรอ อื่นสำหรับเวิร์กโฟลว์ที่ทำงานอยู่เบื้องหลังด้วยชุดขั้นตอนเพิ่มเติมที่สอดคล้องกัน ซึ่งจะดำเนินการก็ต่อเมื่อเป็นไปตามเกณฑ์เริ่มต้นเท่านั้น คุณสามารถใช้สาขาที่มีการรอแบบขนานเพื่อสร้างขีดจำกัดเวลาในตรรกะของเวิร์กโฟลว์ ซึ่งช่วยป้องกันไม่ให้เวิร์กโฟลว์ต้องรออย่างไม่มีกำหนดจนกว่าจะเป็นไปตามเกณฑ์ที่กำหนดไว้ในเงื่อนไขการรอ|  
|**ขั้นตอนแบบกำหนดเอง**|นักพัฒนาสามารถสร้างขั้นตอนเวิร์กโฟลว์แบบกำหนดเองที่กำหนดเงื่อนไข ไม่มีขั้นตอนแบบกำหนดเองที่พร้อมใช้งานตามค่าเริ่มต้น|  
  
 สกรีนช็อตต่อไปนี้มีตัวอย่างคำจำกัดความของกระบวนการเวิร์กโฟลว์ที่มีตัวดำเนินการตามลำดับชั้น **ภายใต้** และ **ไม่อยู่ภายใต้** ในตัวอย่างของเรา เรานำส่วนลดที่ต่างกันสองรายการไปใช้กับบัญชีสองกลุ่ม ใน **เพิ่มขั้นตอน** เราเลือก **เงื่อนไขการตรวจสอบ** เพื่อระบุเงื่อนไข **if-then** ที่มีตัวดำเนินการ **ภายใต้** หรือ **ไม่อยู่ภายใต้** เงื่อนไข **if-then** ข้อแรกนำไปใช้กับทุกบัญชีที่อยู่**ภายใต้**บัญชี Alpine Ski House บัญชีเหล่านี้ได้รับส่วนลด 10% ในการซื้อสินค้าและบริการ เงื่อนไข **if-then** ข้อที่สองนำไปใช้กับทุกบัญชีที่**ไม่อยู่ภายใต้**บัญชี Alpine Ski House และได้รับส่วนลด 5% จากนั้น เราเลือก **อัปเดตระเบียน** เพื่อกำหนดการดำเนินการที่จะกระทำตามเงื่อนไข  
  
 ![กระบวนการเวิร์กโฟลว์ที่มีตัวดำเนินการ ภายใต้&#47;ไม่อยู่ภายใต้](media/wfp-under-not-under.PNG "กระบวนการเวิร์กโฟลว์ที่มีตัวดำเนินการ ภายใต้/ไม่อยู่ภายใต้")  
  
<a name="BKMK_SynchronousWorkflows"></a>   

## <a name="using-real-time-workflows"></a>ใช้เวิร์กโฟลว์แบบเรียลไทม์  

 คุณสามารถกำหนดค่าเวิร์กโฟลว์แบบเรียลไทม์ แต่คุณควรใช้ด้วยความระมัดระวัง โดยทั่วไปเวิร์กโฟลว์แบบทำงานอยู่เบื้องหลังมักได้รับการแนะนำ เนื่องจากระบบสามารถนำเวิร์กโฟลว์เหล่านี้ไปใช้เมื่อทรัพยากรบนเซิร์ฟเวอร์พร้อมใช้งาน ซึ่งช่วยให้งานที่เซิร์ฟเวอร์ต้องทำเป็นไปอย่างราบรื่น และช่วยรักษาประสิทธิภาพการทำงานที่ดีที่สุดสำหรับทุกคนที่ใช้ระบบ แต่ข้อเสียคือ การดำเนินการที่กำหนดโดยเวิร์กโฟลว์แบบทำงานอยู่เบื้องหลังจะไม่เป็นไปโดยทันที คุณไม่สามารถคาดการณ์ได้ว่าเมื่อใดจะมีการนำการดำเนินการเหล่านี้ไปใช้ แต่โดยทั่วไปจะใช้เวลาไม่กี่นาที ซึ่งสำหรับระบบอัตโนมัติส่วนใหญ่ในกระบวนการทางธุรกิจ ถือเป็นเรื่องน่าพอใจ เนื่องจากบุคคลที่ใช้ระบบไม่จำเป็นต้องทราบว่ากระบวนการกำลังดำเนินอยู่  
  
 ใช้เวิร์กโฟลว์แบบเรียลไทม์ เมื่อกระบวนการทางธุรกิจต้องการให้บุคคลใดบุคคลหนึ่งเห็นผลลัพธ์ของกระบวนการนั้นโดยทันที หรือถ้าคุณต้องการความสามารถในการยกเลิกการดำเนินงาน ตัวอย่างเช่น คุณอาจต้องการตั้งค่าเริ่มต้นบางอย่างสำหรับระเบียนในครั้งแรกที่ถูกบันทึก หรือคุณต้องการตรวจสอบให้แน่ใจว่า ระเบียนบางอย่างจะไม่ถูกลบ  
  
### <a name="converting-between-real-time-and-background-workflows"></a>การแปลงระหว่างเวิร์กโฟลว์แบบเรียลไทม์กับแบบทำงานอยู่เบื้องหลัง  

 คุณสามารถเปลี่ยนเวิร์กโฟลว์แบบเรียลไทม์เป็นเวิร์กโฟลว์แบบทำงานอยู่เบื้องหลัง โดยเลือก **แปลงเป็นเวิร์กโฟลว์แบบทำงานอยู่เบื้องหลัง** บนแถบเครื่องมือ  
  
 คุณสามารถเปลี่ยนเวิร์กโฟลว์แบบทำงานอยู่เบื้องหลังเป็นเวิร์กโฟลว์แบบเรียลไทม์ โดยเลือก **แปลงเป็นเวิร์กโฟลว์แบบเรียลไทม์** บนแถบเครื่องมือ ถ้าเวิร์กโฟลว์แบบทำงานอยู่เบื้องหลังใช้เงื่อนไขการรอ เวิร์กโฟลว์นั้นจะไม่ถูกต้องและคุณจะไม่สามารถเปิดใช้งานเวิร์กโฟลว์ได้จนกว่าคุณจะนำเงื่อนไขการรอออก  
  
### <a name="initiating-real-time-workflows-before-or-after-status-changes"></a>การเริ่มต้นเวิร์กโฟลว์แบบเรียลไทม์ก่อนหรือหลังการเปลี่ยนแปลงสถานะ  

 เมื่อคุณกำหนดค่า **ตัวเลือกสำหรับกระบวนการอัตโนมัติ** สำหรับเวิร์กโฟลว์แบบเรียลไทม์ ตัวเลือก **เริ่มต้นเมื่อ** สำหรับเหตุการณ์การเปลี่ยนแปลงสถานะจะช่วยให้คุณสามารถเลือก **หลังจาก** หรือ  **ก่อน** สำหรับเวลาที่สถานะมีการเปลี่ยนแปลงได้ ตัวเลือกเริ่มต้นคือ **หลังจาก**  
  
 เมื่อคุณเลือก **ก่อน** แสดงว่าคุณต้องการให้นำตรรกะในเวิร์กโฟลว์ไปใช้ก่อนที่จะมีการบันทึกข้อมูลที่เปลี่ยนแปลงสถานะ ซึ่งทำให้คุณสามารถตรวจสอบค่าต่าง ๆ ก่อนที่จะมีการนำตรรกะอื่น ๆ ไปใช้หลังจากการดำเนินงาน และป้องกันไม่มีการดำเนินการตรรกะเพิ่มเติม ตัวอย่างเช่น คุณอาจมีตรรกะเพิ่มเติมในการดำเนินการเวิร์กโฟลว์แบบปลั๊กอินหรือแบบกำหนดเอง ซึ่งสามารถเริ่มต้นการดำเนินการ ๆ บนระบบอื่น ถ้าหยุดการประมวลผลเพิ่มเติม คุณจะสามารถหลีกเลี่ยงกรณีที่ระบบภายนอกได้รับผลกระทบ การนำเวิร์กโฟลว์แบบเรียลไทม์ไปใช้ก่อนเหตุการณ์นี้ยังหมายความว่า การดำเนินการเวิร์กโฟลว์หรือการดำเนินการแบบปลั๊กอินอื่น ๆ ที่อาจบันทึกข้อมูลไว้แล้ว ไม่จำเป็นต้องถูก "ย้อนกลับ" เมื่อการดำเนินงานนั้นถูกยกเลิก  
  
### <a name="using-the-stop-workflow-action-with-real-time-workflows"></a>ใช้การดำเนินการ หยุดเวิร์กโฟลว์ ที่มีเวิร์กโฟลว์แบบเรียลไทม์  

 เมื่อคุณนำการดำเนินการ **หยุดเวิร์กโฟลว์** ไปใช้ในเวิร์กโฟลว์ คุณสามารถเลือกที่จะระบุเงื่อนไขสถานะที่สามารถ**สำเร็จ**หรือ**ยกเลิก**ได้ เมื่อคุณตั้งค่าสถานะให้ถูกยกเลิก คุณจะป้องกันการดำเนินงานนั้น ข้อความแสดงข้อผิดพลาดที่มีข้อความจากข้อความบอกสถานะการดำเนินการหยุดจะปรากฏให้ผู้ใช้เห็นพร้อมกับหัวเรื่อง **ข้อผิดพลาดของกระบวนการทางธุรกิจ**  
  
## <a name="next-steps"></a>ขั้นตอนถัดไป  
 [สร้างตรรกะทางธุรกิจแบบกำหนดเอง ด้วยกระบวนการต่าง ๆ](guide-staff-through-common-tasks-processes.md)   
 [ภาพรวมของกระบวนการเวิร์กโฟลว์](workflow-processes.md)   
 [ตรวจสอบและจัดการกระบวนการเวิร์กโฟลว์](monitor-manage-processes.md)   
 [แนวทางปฏิบัติที่ดีที่สุดสำหรับกระบวนการเวิร์กโฟลว์](best-practices-workflow-processes.md)
