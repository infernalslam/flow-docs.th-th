---
title: สร้างโฟลว์ด้วย Dynamics 365 (ออนไลน์) | Microsoft Docs
description: สร้างเวิร์กโฟลว์ที่มีประโยชน์ โดยใช้การเชื่อมต่อ Dynamics 365 และ Microsoft Flow
services: ''
suite: flow
documentationcenter: na
author: Mattp123
manager: anneta
editor: ''
tags: ''
ms.service: flow
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 02/06/2017
ms.author: matp
search.app:
- Flow
search.audienceType:
- flowmaker
- enduser
ms.openlocfilehash: c780b3d305fbd5549f9c7ffc2a23571007dac7a7
ms.sourcegitcommit: f7985b96afe68b079b7fd4a6d04cd0a042d893e0
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 09/26/2018
ms.locfileid: "47188627"
---
# <a name="create-a-flow-by-using-dynamics-365-online"></a>สร้างโฟลว์โดยใช้ Dynamics 365 (ออนไลน์)
ด้วยตัวเชื่อมต่อ Dynamics 365 คุณสามารถสร้างโฟลว์ที่เริ่มต้นเมื่อเกิดเหตุการณ์ใน Dynamics 365 หรือบริการอื่น ๆ จากนั้นจะดำเนินการใน Dynamics 365 หรือบริการอื่น ๆ ได้ 

ใน Microsoft Flow คุณสามารถตั้งค่าเวิร์กโฟลว์อัตโนมัติระหว่างแอปโปรดของคุณและบริการ เพื่อซิงโครไนซ์ไฟล์, รับการแจ้งเตือน, การเก็บรวบรวมข้อมูล และอื่น ๆ อีกมาก สำหรับข้อมูลเพิ่มเติม ดู[เริ่มต้นใช้งาน Microsoft Flow](getting-started.md)

> [!IMPORTANT] 
> ในการเรียกใช้ทริกเกอร์โฟลว์ เอนทิตีมีส่วนร่วมของลูกค้า Dynamics 365 ที่ใช้กับโฟลว์ดังกล่าวต้องมีการเปิดใช้งาน **ติดตามการเปลี่ยนแปลง** ข้อมูลเพิ่มเติม:[เปิดใช้งานการติดตามการเปลี่ยนแปลงเพื่อควบคุมการซิงโครไนซ์ข้อมูล](https://docs.microsoft.com/dynamics365/customer-engagement/admin/enable-change-tracking-control-data-synchronization) 

## <a name="create-a-flow-from-a-template"></a>สร้างโฟลว์จากเทมเพลต
คุณสามารถสร้างโฟลว์โดยใช้หนึ่งในเทมเพลตจำนวนมากที่มี เช่นตัวอย่างต่อไปนี้:

* เมื่อออบเจ็กต์ใน Dynamics 365 ถูกสร้าง สร้างรายการใน SharePoint
* สร้างเรกคอร์ด (หรือระเบียน) ลูกค้าเป้าหมาย Dynamics 365 จากตาราง Excel
* คัดลอกบัญชี Dynamics 365 ไปเป็นลูกค้าใน Dynamics 365 สำหรับการดำเนินการ

เพื่อสร้างโฟลว์จากเทมเพลต ทำตามขั้นตอนต่อไปนี้

1. ลงชื่อเข้าใช้[เว็บไซต์ Microsoft Flow](https://flow.microsoft.com/)
2. คลิกหรือแตะ**บริการ** แล้วคลิกหรือแตะ **Dynamics 365**
3. มีเทมเพลตหลายรายการให้ใช้งาน เพื่อเริ่มต้นใช้งาน เลือกเทมเพลตที่คุณต้องการ

## <a name="create-a-task-from-a-lead"></a>สร้างงานจากลูกค้าเป้าหมาย
ถ้าไม่มีเทมเพลตที่คุณต้องการ สร้างโฟลว์ตั้งแต่เริ่มต้น การฝึกปฏิบัตินี้ แสดงวิธีการสร้างงานใน Dynamics 365 เมื่อใดก็ตามที่ลูกค้าเป้าหมายถูกสร้างใน Dynamics 365

1. ลงชื่อเข้าใช้[เว็บไซต์ Microsoft Flow](https://flow.microsoft.com/)
2. คลิกหรือแตะ**โฟลว์ของฉัน** แล้วคลิกหรือแตะ**สร้างจากว่างเปล่า**
3. ในรายการของทริกเกอร์โฟลว์ คลิกหรือแตะ **Dynamics 365 - เมื่อเรกคอร์ดถูกสร้าง**
4. ถ้าได้รับพร้อมท์ ลงชื่อเข้าใช้ Dynamics 365
5. ภายใต้**ชื่อองค์กร** เลือกอินสแตนซ์ Dynamics 365 ที่คุณต้องการให้โฟลว์ฟัง
6. ภายใต้**ชื่อเอนทิตี** เลือกเอนทิตีที่คุณต้องการฟัง ซึ่งจะทำหน้าที่เป็นทริกเกอร์ที่เริ่มต้นโฟลว์
   
     สำหรับการฝึกปฏิบัตินี้ เลือก**ลูกค้าเป้าหมาย**
   
    ![รายละเอียดของโฟลว์](./media/connection-dynamics365/flow-details.png)
    > [สำคัญ] เพื่อให้โฟลว์ทริกเกอร์บนเอนทิตี้ Dynamics 365 ข้อกำหนดของเอนทิตี้จะต้องเปิดใช้งาน **การติดตามการเปลี่ยนแปลง** โปรดดู[เปิดใช้งานการติดตามการเปลี่ยนแปลงเพื่อควบคุมการซิงโครไนซ์ข้อมูล](https://docs.microsoft.com/dynamics365/customer-engagement/admin/enable-change-tracking-control-data-synchronization)
    
7. คลิกหรือแตะ**ขั้นตอนใหม่** แล้วคลิกหรือแตะ**เพิ่มการดำเนินการ**
8. คลิกหรือแตะ **Dynamics 365 – สร้างเรกคอร์ดใหม่**
9. ภายใต้**ชื่อองค์กร** เลือกอินสแตนซ์ Dynamics 365 ที่คุณต้องการให้โฟลว์สร้างเรกคอร์ด สังเกตว่า จะไม่จำเป็นต้องเป็นอินสแตนซ์เดียวกับที่ทริกเกอร์เหตุการณ์
10. ภายใต้**ชื่อเอนทิตี** เลือกเอนทิตีที่จะสร้างเรกคอร์ดเมื่อเหตุการณ์เกิดขึ้น
    
     สำหรับการฝึกปฏิบัตินี้ เลือก**งาน**
11. กล่อง**เรื่อง**จะปรากฏขึ้น เมื่อคุณคลิกหรือแตะที่กล่อง บานหน้าต่างเนื้อหาแบบไดนามิกจะปรากฏขึ้น ซึ่งคุณสามารถเลือกฟิลด์ใดฟิลด์หนึ่งเหล่านี้
    
    * **นามสกุล** ถ้าคุณเลือกฟิลด์นี้ นามสกุลของลูกค้าเป้าหมาย จะถูกแทรกลงในฟิลด์**เรื่อง**ของงานเมื่อถูกสร้างขึ้น
    * **หัวข้อ** ถ้าคุณเลือกฟิลด์นี้ ฟิลด์**หัวข้อ**สำหรับลูกค้าเป้าหมาย จะถูกแทรกลงในฟิลด์**เรื่อง**ของงานเมื่อถูกสร้างขึ้น
    
    สำหรับการฝึกปฏิบัตินี้ เลือก**หัวข้อ**
    
    ![โฟลว์เพิ่มหัวข้อ](./media/connection-dynamics365/flow-addtopic.png)
    
    > **เคล็ดลับ:** ในบานหน้าต่างเนื้อหาแบบไดนามิก คลิกหรือแตะ**ดูเพิ่มเติม** เพื่อแสดงฟิลด์เพิ่มเติมที่เกี่ยวข้องกับเอนทิตี ตัวอย่างเช่น คุณยังสามารถเติมฟิลด์**เรื่อง**ของงาน ด้วยฟิลด์**ชื่อบริษัท**, **ลูกค้า**, **คำอธิบาย** หรือ**อีเมล**ของลูกค้าเป้าหมาย
    > 
    > 
12. คลิกหรือแตะ**สร้างโฟลว์**

## <a name="create-a-wunderlist-task-from-a-dynamics-365-task"></a>สร้างงาน Wunderlist จากงาน Dynamics 365
การฝึกปฏิบัตินี้แสดงวิธีการสร้างงานใน [Wunderlist](https://www.wunderlist.com) เมื่อใดก็ตามที่งานถูกสร้างขึ้นใน Dynamics 365 Wunderlist คือ บริการบนอินเทอร์เน็ตข้อที่คุณสามารถใช้ เพื่อสร้างรายการสิ่งที่ต้องทำ, เพิ่มตัวแจ้งเตือน หรือติดตามงาน

1. ลงชื่อเข้าใช้[เว็บไซต์ Microsoft Flow](https://flow.microsoft.com/)
2. คลิกหรือแตะ**โฟลว์ของฉัน** แล้วคลิกหรือแตะ**สร้างจากว่างเปล่า**
3. ในรายการของทริกเกอร์โฟลว์ คลิกหรือแตะ **Dynamics 365 - เมื่อเรกคอร์ดถูกสร้าง**
4. ภายใต้**ชื่อองค์กร** เลือกอินสแตนซ์ Dynamics 365 ที่คุณต้องการให้โฟลว์ฟัง
5. ภายใต้**ชื่อเอนทิตี** เลือกเอนทิตีที่คุณต้องการฟัง ซึ่งจะทำหน้าที่เป็นทริกเกอร์เพื่อเริ่มต้นโฟลว์
   
    สำหรับการฝึกปฏิบัตินี้ เลือก**งาน**
6. คลิกหรือแตะ**ขั้นตอนใหม่** แล้วคลิกหรือแตะ**เพิ่มการดำเนินการ**
7. พิมพ์*สร้างงาน* แล้วคลิกหรือแตะ **Wunderlist – สร้างงาน**
8. ภายใต้ **ID รายการ** เลือก**กล่องขาเข้า**
9. ภายใต้**ชื่อเรื่อง** เลือก**เรื่อง**ในบานหน้าต่างเนื้อหาแบบไดนามิก
10. คลิกหรือแตะ**สร้างโฟลว์**  

## <a name="trigger-based-logic"></a>ทริกเกอร์ตามตรรกะ
ทริกเกอร์ เช่น **เมื่อสร้างระเบียน** **เมื่อมีการอัปเดตระเบียน** และ**เมื่อลบระเบียน** เริ่มโฟลว์ของคุณภายในไม่กี่นาทีของเหตุการณ์ที่กำลังเกิดขึ้น  ในบางกรณี โฟลว์ของคุณอาจใช้เวลาถึง 2 ชั่วโมงในการทริกเกอร์

เมื่อการทริกเกอร์เกิดขึ้น โฟลว์จะได้รับการแจ้งเตือนหนึ่ง แต่โฟลว์นั้นทำงานบนข้อมูลที่มีอยู่ในขณะที่มีการดำเนินการดังกล่าว  ตัวอย่างเช่น ถ้าโฟลว์ของคุณทริกเกอร์เมื่อมีการสร้างระเบียนใหม่ และคุณอัปเดตระเบียนสองครั้งก่อนที่จะเรียกใช้โฟลว์ โฟลว์ของคุณจะเรียกใช้เพียงครั้งเดียว โดยเรียกใช้ด้วยข้อมูลล่าสุด

## <a name="specify-advanced-options"></a>ระบุตัวเลือกขั้นสูง
เมื่อคุณเพิ่มขั้นตอนให้กับโฟลว์ คุณสามารถคลิกหรือแตะ**แสดงตัวเลือกขั้นสูง**เพื่อเพิ่มคิวรีตัวกรอง หรือคิวรีเรียงตามลำดับ ที่ควบคุมวิธีกรองข้อมูลในโฟลว์ ได้

ตัวอย่างเช่น คุณสามารถใช้คิวรีตัวกรองเพื่อดึงข้อมูลติดต่อที่ใช้งานอยู่เท่านั้น และคุณสามารถเรียงลำดับตามนามสกุล เพื่อทำเช่นนี้ ใส่คิวรีตัวกรองของ OData **statuscode eq 1** และเลือก**นามสกุล** จากบานหน้าต่างเนื้อหาแบบไดนามิก สำหรับข้อมูลเพิ่มเติมเกี่ยวกับ คิวรีตัวกรองและเรียงลำดับ ดู [MSDN: $filter](https://msdn.microsoft.com/library/gg309461.aspx#Anchor_1) และ [MSDN: $orderby](https://msdn.microsoft.com/library/gg309461.aspx#Anchor_2)

  ![โฟลว์คิวรีเรียงลำดับ](./media/connection-dynamics365/flow-orderby-query.png)

### <a name="best-practices-when-using-advanced-options"></a>แนวทางปฏิบัติที่ดีที่สุดเมื่อใช้ตัวเลือกขั้นสูง
เมื่อคุณเพิ่มค่าลงในฟิลด์ คุณต้องเพิ่มให้ตรงกับชนิดฟิลด์ ไม่ว่าคุณจะพิมพ์ค่า หรือเลือกหนึ่งรายการจากบานหน้าต่างเนื้อหาแบบไดนามิก

| ชนิดของฟิลด์ | วิธีใช้ | ตำแหน่งที่พบ | ชื่อ | ชนิดข้อมูล |
| --- | --- | --- | --- | --- |
| ฟิลด์ข้อความ |ฟิลด์ข้อความ ต้องการข้อความบรรทัดเดียว หรือเนื้อหาแบบไดนามิกที่มีฟิลด์ชนิดข้อความ ตัวอย่างเช่น ฟิลด์**ประเภท**และ**ประเภทย่อย** |**การตั้งค่า** > **การกำหนดเอง** > **แก้ไขระบบตามความต้องการ** > **เอนทิตี** > **งาน** > **ฟิลด์** |**category** |**ข้อความบรรทัดเดียว** |
| ฟิลด์จำนวนเต็ม |บางฟิลด์ต้องการจำนวนเต็ม หรือเนื้อหาแบบไดนามิกที่มีชนิดฟิลด์เป็นจำนวนเต็ม ตัวอย่างเช่น **เปอร์เซ็นต์ที่เสร็จสมบูรณ์** และ**ระยะเวลา** |**การตั้งค่า** > **การกำหนดเอง** > **แก้ไขระบบตามความต้องการ** > **เอนทิตี** > **งาน** > **ฟิลด์** |**percentcomplete** |**จำนวนเต็ม** |
| ฟิลด์วันที่ |บางฟิลด์ต้องการวันที่ ที่ป้อนในรูปแบบ mm/dd/yyyy หรือเนื้อหาแบบไดนามิกที่มีฟิลด์ชนิดวันที่ ตัวอย่างเช่น **สร้างเมื่อ**, **วันที่เริ่มต้น**, **เริ่มต้นจริง**, **เวลาในการระงับครั้งล่าสุด**, **สิ้นสุดจริง** และ**วันที่ครบกำหนด** |**การตั้งค่า** > **การกำหนดเอง** > **แก้ไขระบบตามความต้องการ** > **เอนทิตี** > **งาน** > **ฟิลด์** |**createdon** |**วันที่และเวลา** |
| ฟิลด์ที่ต้องการทั้ง รหัสเรกคอร์ด และชนิดการค้นหา |บางฟิลด์ที่อ้างอิงเรกคอร์ดเอนทิตีอื่นต้องการทั้ง รหัสเรกคอร์ด และชนิดการค้นหา |**ตั้งค่า** > **กำหนดเอง** > **กำหนดด้วยตนเองระบบ** > **เอนทิตี** > **บัญชี** > **ฟิลด์** |**accountid** |**คีย์หลัก** |

### <a name="more-examples-of-fields-that-require-both-a-record-id-and-lookup-type"></a>ตัวอย่างเพิ่มเติมของฟิลด์ที่ต้องการทั้งรหัสเรกคอร์ดและชนิดการค้นหา
อธิบายเพิ่มเติมตารางก่อนหน้านี้ ต่อไปนี้คือตัวอย่างเพิ่มเติมของฟิลด์ที่ไม่ทำงานกับค่าที่เลือกจากรายการเนื้อหาแบบไดนามิก แต่ฟิลด์เหล่านี้จำเป็นต้องมีทั้งรหัสเรกคอร์ดและชนิดการค้นหา ใส่ลงในฟิลด์ใน PowerApps

* **เจ้าของ**และ**ชนิดเจ้าของ**
  
  * ฟิลด์**เจ้าของ** ต้องมีรหัสเรกคอร์ดของผู้ใช้ หรือทีมที่ถูกต้อง
  * **ชนิดเจ้าของ** ต้องเป็น **systemusers** หรือ **teams** อย่างใดอย่างหนึ่ง
* **ลูกค้า**และ**ชนิดลูกค้า**
  
  * ฟิลด์**ลูกค้า** ต้องมีรหัสเรกคอร์ดของบัญชี หรือผู้ติดต่อที่ถูกต้อง
  * **ชนิดลูกค้า** ต้องเป็น **accounts** หรือ **contacts** อย่างใดอย่างหนึ่ง
* **ความเกี่ยวข้อง**และ**ชนิดความเกี่ยวข้อง**
  
  * ฟิลด์**ความเกี่ยวข้อง** ต้องมีรหัสเรกคอร์ดที่ถูกต้อง เช่น รหัสเรกคอร์ดบัญชี หรือผู้ติดต่อ
  * **ชนิดความเกี่ยวข้อง** ต้องเป็นชนิดการค้นหาสำหรับเรกคอร์ด เช่น **accounts** หรือ **contacts**

ตัวอย่างนี้ เพิ่มเรกคอร์ดบัญชีที่ตรงกับรหัสเรกคอร์ด ลงในฟิลด์**ความเกี่ยวข้อง**ของงาน

  ![โฟลว์ รหัสเรกคอร์ดและชนิดบัญชี](./media/connection-dynamics365/flow-recordid-account.png)

ตัวอย่างนี้ยังมอบหมายงานให้กับผู้ใช้ ตามรหัสเรกคอร์ดของผู้ใช้

  ![โฟลว์ รหัสเรกคอร์ดและชนิดผู้ใช้](./media/connection-dynamics365/flow-recordid-user.png)

เพื่อค้นหารหัสเรกคอร์ด ดู[ค้นหารหัสเรกคอร์ด](#find-the-records-id)ภายหลังในหัวข้อนี้

> **สิ่งสำคัญ:** ฟิลด์ไม่ควรมีค่า ถ้าฟิลด์มีคำอธิบายว่า "สำหรับใช้ภายในเท่านั้น" ฟิลด์เหล่านี้รวม **พาธที่ตรวจสอบ**, **พารามิเตอร์เพิ่มเติม** และ**หมายเลขรุ่นของกฎโซนเวลา**
> 
> 

## <a name="find-the-records-id"></a>ค้นหารหัสเรกคอร์ด
1. ในแอปพลิเคชันบนเว็บของ Dynamics 365 เปิดเรกคอร์ด เช่น เรกคอร์ดบัญชี
2. บนแถบเครื่องมือการดำเนินการ คลิกหรือแตะ **เปิดหน้าต่างใหม่**
   ![เปิดหน้าต่างเรกคอร์ดใหม่](./media/connection-dynamics365/popout.png) (หรือคลิกหรือแตะ **ส่งการเชื่อมโยงทางอีเมล** เพื่อคัดลอก URL แบบเต็มไปยังโปรแกรมอีเมลเริ่มต้นของคุณ)
   
    ในแถบที่อยู่ของเว็บเบราว์เซอร์ URL ประกอบด้วยรหัสเรกคอร์ด ระหว่างตัวอักษระที่เข้ารหัส %7b และ %7d
   
   ![รหัสเรกคอร์ด](./media/connection-dynamics365/recordid.png)

## <a name="related-topics"></a>หัวข้อที่เกี่ยวข้อง
[การแก้ไขปัญหาโฟลว์](fix-flow-failures.md)

[ถามตอบ Flow ในองค์กรของคุณ](organization-q-and-a.md)

[คำถามที่ถามบ่อย](frequently-asked-questions.md)

